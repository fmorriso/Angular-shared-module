# AngularSharedModule

## Background

Angular-CLI 1.2.6 + Angular 4.3.2 used to create the[Angular ngModule tutorial](https://angular.io/guide/ngmodule)

## Angular-CLI considerations

The initial scaffolding of the application was performed via the following Angular-CLI command:

```npm
cd c:\projects
ng new Angular-shared-module --verbose --skip-install --skip-tests --skip-commit --style=scss --routing 
```

In order to remain true to the flat structure of the tutorial, any time I needed to use the `ng` command
to generate something, I included the `--flat` directive to prevent Angular-CLI from defaulting to its usual practice of
creating a separate folder for the new item being created.  Examples:

```npm
ng generate directive Highlight --flat
ng generate component Title --flat
ng generate service User --module app.module --flat
```

The exceptions to the "everything is flat" technique shown above is all of the Contact-related code, 
which the tutorial asks be generated all within the `contact` folder:
```
ng generate component Contact
ng generate directive contact/Highlight
ng generate service contact/Contact --module app.module 
ng generate pipe contact/Awesome
```

When building the application, I have found that specifying the `--prod` option when running `ng build` tends to find things that
running without `--prod` remains blissfully unaware of, so, even though there is additional overhead, I **always** build with the --prod option.
To facilitate this, I added a `build-prod` to `package.json`:

```
"build-prod": "ng build --verbose --progress --vendor-chunk --extract-css --prod"
```

Similarly, when running the application, I include `--prod`:

```
"start-prod": "ng serve --open --verbose --vendor-chunk --extract-css --prod",
``` 

The keen observer will notice that I am also a big fan of putting the "vendor stuff" and all styles into their own bundle that are
automatically written to the output `index.html` when building or running the application as previously described.

Here's an example of what index.html looks like inside the `dist` folder after build-prod:

```html
<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>AngularSharedModule</title>
        <base href="/">
        <meta name="viewport" content="width=device-width,initial-scale=1">
        <link rel="icon" type="image/x-icon" href="favicon.ico">
        <link href="styles.d41d8cd98f00b204e980.bundle.css" rel="stylesheet"/>
    </head>
    <body>
        <app-root></app-root>
        <script type="text/javascript" src="inline.7f301069dc3dc9a5bcda.bundle.js"></script>
        <script type="text/javascript" src="polyfills.b8858ddd6c4bd49f3fdf.bundle.js"></script>
        <script type="text/javascript" src="vendor.3bf35d67789724a4db1a.bundle.js"></script>
        <script type="text/javascript" src="main.18eb4594fd5068ccc55b.bundle.js"></script>
    </body>
</html>
``` 

Notice the separate styles link in the `<head>` and the separate vendor bundle in the `<body>`, which are automatically 
generated by Angular-CLI because of the presence of the `--extract-css` and `--vendor-chunk` options during 
`ng build` or `ng serve`.

## Angular-CLI usual "stuff"

This project was generated with [Angular CLI](https://github.com/angular/angular-cli) version 1.2.6.

## Development server

Run `ng serve` for a dev server. Navigate to `http://localhost:4200/`. The app will automatically reload if you change any of the source files.

## Code scaffolding

Run `ng generate component component-name` to generate a new component. You can also use `ng generate directive|pipe|service|class|module`.

## Build

Run `ng build` to build the project. The build artifacts will be stored in the `dist/` directory. Use the `-prod` flag for a production build.

## Running unit tests

Run `ng test` to execute the unit tests via [Karma](https://karma-runner.github.io).

## Running end-to-end tests

Run `ng e2e` to execute the end-to-end tests via [Protractor](http://www.protractortest.org/).
Before running the tests make sure you are serving the app via `ng serve`.

## Further help

To get more help on the Angular CLI use `ng help` or go check out the [Angular CLI README](https://github.com/angular/angular-cli/blob/master/README.md).
